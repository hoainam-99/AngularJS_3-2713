<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng nhập</title>
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  </head>
  <body ng-controller="myCtrl">
    <div class="container mt-3">
      <h2>Login</h2>
      <form>
        <div class="mb-3 mt-3">
          <label for="email">Email:</label>
          <input
            type="email"
            class="form-control"
            ng-model="email"
            placeholder="Enter email"
            name="email"
          />
        </div>
        <div class="mb-3">
          <label for="pwd">Password:</label>
          <input
            type="password"
            class="form-control"
            ng-model="pwd"
            placeholder="Enter password"
            name="pwd"
          />
        </div>
        <button type="submit" class="btn btn-primary" ng-click="checkAccount()">Login</button>
        <button type="reset" class="btn btn-warning">Clear</button>
      </form>
    </div>
  </body>
  <script>
    var app = angular.module('myApp', []);
    app.controller('myCtrl', function($scope, $window) {
        $scope.accList = [];
        $scope.checkAccount = function(){
            localStorage.getItem('accList') ? $scope.accList = JSON.parse(localStorage.getItem('accList')) : $scope.accList = [];
            var check = false;
            for(var i = 0; i < $scope.accList.length; i++){
                if($scope.accList[i].email == $scope.email && $scope.accList[i].pwd == $scope.pwd){
                    check = true;
                    break;
                }
            }
            if(check){
                alert('Login success');
                $window.location.href = 'show.html';
            }else{
                alert('Login fail');
            }
        }
    });
  </script>
</html>
